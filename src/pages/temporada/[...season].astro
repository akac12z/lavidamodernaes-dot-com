---
export const prerender = true;

import Layout from "@layout/Layout.astro";
import Main from "@UI/Main.astro";

import Card from "@UI/Card.astro";
import { getCollection, type CollectionEntry } from "astro:content";

interface Props {
  entry: CollectionEntry<"tweets">;
}

export async function getStaticPaths() {
  const quotes = await getCollection("tweets");

  return quotes.map((entry) => ({
    params: { season: entry.data.season },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { id } = entry;

const tweets = await getCollection("tweets");
---

<Layout>
  <Main>
    <section
      class="mx-auto py-6 px-4 xs:px-16 sm:px-4 grid grid-cols-1 grid-rows-auto sm:grid-cols-2 gap-6 overflow-y-hidden"
    >
      {
        tweets.map((tweet) => {
          <Card entry={tweet} />;
        })
      }
    </section>
  </Main>
</Layout>
